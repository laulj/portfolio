/*! For license information please see dashboard-5d76b7cb9ff2d42a007f.js.LICENSE.txt */
(()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,c=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw c}}}}function n(){"use strict";n=function(){return t};var t={},r=Object.prototype,a=r.hasOwnProperty,c=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function m(e,t,n,r){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new S(r||[]);return c(o,"_invoke",{value:R(e,n,i)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=m;var p={};function f(){}function h(){}function y(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(C([])));b&&b!==r&&a.call(b,i)&&(v=b);var x=y.prototype=f.prototype=Object.create(v);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(t,n){function r(c,o,i,l){var s=d(t[c],t,o);if("throw"!==s.type){var u=s.arg,m=u.value;return m&&"object"==e(m)&&a.call(m,"__await")?n.resolve(m.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):n.resolve(m).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,l)}))}l(s.arg)}var o;c(this,"_invoke",{value:function(e,t){function a(){return new n((function(n,a){r(e,t,n,a)}))}return o=o?o.then(a,a):a()}})}function R(e,t,n){var r="suspendedStart";return function(a,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw c;return{value:void 0,done:!0}}for(n.method=a,n.arg=c;;){var o=n.delegate;if(o){var i=_(o,n);if(i){if(i===p)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=d(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var a=d(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,p;var c=a.arg;return c?c.done?(t[e.resultName]=c.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):c:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function C(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=y,c(x,"constructor",{value:y,configurable:!0}),c(y,"constructor",{value:h,configurable:!0}),h.displayName=u(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},w(E.prototype),u(E.prototype,l,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,a,c){void 0===c&&(c=Promise);var o=new E(m(e,n,r,a),c);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(x),u(x,s,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=C,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var c=this.tryEntries[r],o=c.completion;if("root"===c.tryLoc)return n("end");if(c.tryLoc<=this.prev){var i=a.call(c,"catchLoc"),l=a.call(c,"finallyLoc");if(i&&l){if(this.prev<c.catchLoc)return n(c.catchLoc,!0);if(this.prev<c.finallyLoc)return n(c.finallyLoc)}else if(i){if(this.prev<c.catchLoc)return n(c.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return n(c.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var c=r;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function r(e,t,n,r,a,c,o){try{var i=e[c](o),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,c){var o=e.apply(t,n);function i(e){r(o,a,c,i,l,"next",e)}function l(e){r(o,a,c,i,l,"throw",e)}i(void 0)}))}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c,o,i=[],l=!0,s=!1;try{if(c=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=c.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw a}}return i}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}$(document).ready((function(){var e=ReactDOM.createRoot(document.getElementById("dashboard-page")),r=window.ReactSpring;function l(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function s(){return React.createElement(React.Fragment,null,React.createElement(u,null))}function u(){var e=c(React.useState([]),2),l=e[0],s=e[1],u=c(React.useState(null),2),p=u[0],f=u[1];React.useEffect((function(){h().catch((function(e){return f(e)}))}),[]);var h=function(){var e=a(n().mark((function e(){var t,r,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,e.next=3,fetch("/portfolio");case 3:if(r=e.sent,t){e.next=10;break}return e.next=7,r.json();case 7:a=e.sent,s(a),g(a[0].id);case 10:return e.abrupt("return",(function(){t=!0}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=c(React.useState(null),2),v=y[0],g=y[1],b=c(React.useState([]),2),x=b[0],w=b[1],E=c(React.useState(null),2),R=E[0],_=E[1],N=React.useRef(null),k=function(){var e=a(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:C.current.timeScale().fitContent(),he(!fe);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=a(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:G().then((function(e){null!==e&&Y(e)})).catch((function(e){return _(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();React.useEffect((function(){clearInterval(N.current);var e=document.getElementById("portfolioName");l.map((function(t){t.id===v&&(e.innerHTML=t.name)})),G().then((function(e){return null!==e&&(J(e),Y(e),N.current=setInterval((function(){G().then((function(e){null!==e&&J(e).catch((function(e){return _(e)}))}))}),6e4)),function(){return clearInterval(N.current)}})).catch((function(e){return _(e)}))}),[v]);var C=React.useRef(null),L=React.useRef(null),P=c(React.useState(null),2),F=P[0],j=P[1];React.useEffect((function(){null!==F&&null!==L&&L.current.update(F)}),[F]);var A=c(React.useState([]),2),I=A[0],q=A[1];function T(e,t,n){this.time=e,this.assets=t,this.value=parseFloat(n.toFixed(2))}var O=c(React.useState(null),2),B=O[0],M=O[1],z=c(React.useState(!1),2),D=z[0],H=z[1],K=function(){var e=a(n().mark((function e(t,r){var a,c;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H(!0),e.prev=2,e.next=5,fetch("https://api.binance.com/api/v3/uiKlines?symbol=".concat(t,"USDT&interval=").concat("1h","&startTime=").concat(r));case 5:a=e.sent,e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(2),M("failed"),e.abrupt("return",null);case 12:return e.next=14,a.json();case 14:return c=e.sent,H(!1),e.abrupt("return",c);case 17:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,n){return e.apply(this,arguments)}}(),V=function(){var e=a(n().mark((function e(t){var r,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.binance.com/api/v3/avgPrice?symbol=".concat(t,"USDT"));case 2:return r=e.sent,e.next=5,r.json();case 5:return a=e.sent,e.abrupt("return",a.price);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=a(n().mark((function e(){var t,r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===v){e.next=15;break}return e.next=4,fetch("/txs_data/".concat(v));case 4:return t=e.sent,e.next=7,t.json();case 7:if(r=e.sent,200===t.status){e.next=13;break}return _(r.error),e.abrupt("return",null);case 13:return _(null),e.abrupt("return",r);case 15:return e.abrupt("return",null);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=a(n().mark((function e(r){var a,c,o,i,l,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="",c=t(r);try{for(c.s();!(o=c.n()).done;)i=o.value,a+=i+"%2C"}catch(e){c.e(e)}finally{c.f()}return e.next=5,fetch("https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&&ids=".concat(a,"&order=market_cap_desc&sparkline=false&price_change_percentage=24h%2C7d"),{method:"GET"});case 5:return l=e.sent,e.next=8,l.json();case 8:return s=e.sent,e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function U(e){this.index=null,this.rank=e.market_cap_rank,this.id=e.id,this.symbol=e.symbol,this.prev_price=e.current_price,this.current_price=e.current_price,this.market_cap=e.market_cap,this.price_change_percentage_24h=e.price_change_percentage_24h,this.price_change_percentage_7d=e.price_change_percentage_7d_in_currency,this.image_url=e.image,this.last_updated=e.last_updated,this.average_cost=null,this.quantity=null,this.pnl=0}var Y=function(){var e=a(n().mark((function e(r){var c,l,s,u,m,d,p,f,h,y,v,g,b,E,R,_,N,k;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==I.length){e.next=33;break}c=new Set,l=t(r);try{for(l.s();!(s=l.n()).done;)u=s.value,c.add(u.symbol)}catch(e){l.e(e)}finally{l.f()}return c=Array.from(c),m=c.map(function(){var e=a(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,K(t,Math.floor(new Date(r[0].created_on).getTime()));case 3:return e.t1=e.sent,e.abrupt("return",{symbol:e.t0,uKline:e.t1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=8,Promise.all(m);case 8:if(null!==(d=e.sent)[0].uKline){e.next=11;break}return e.abrupt("return",null);case 11:return p=0,f=[],h=r.map(function(){var e=a(n().mark((function e(t){var r,a,c;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,c=Math.floor(new Date(t.created_on).getTime()),d.map((function(e){if(e.symbol===t.symbol)for(var n=0;n<e.uKline.length-2;n++)a=c-e.uKline[n][0]<=c-e.uKline[n+1][0]?e.uKline[n][1]:e.uKline[n+1][1]})),"B"===t.type?(p+=t.quantity*a,f.push({symbol:t.symbol,quantity:t.quantity})):"S"===t.type&&(p-=t.quantity*a,f.forEach((function(e){e.symbol===t.symbol&&(e.quantity-=t.quantity)}))),r=new T(c/1e3,structuredClone(f),p),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=16,Promise.all(h);case 16:return y=e.sent,v=d[0].uKline,g=v.map(function(){var e=a(n().mark((function e(t,r){var c,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=y.map(function(){var e=a(n().mark((function e(c,o){var i,l;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=0,!(t[0]<1e3*y[y.length-o-1].time&&o<=y.length-2)){e.next=6;break}return l=y[y.length-o-2].assets.map(function(){var e=a(n().mark((function e(t){var c;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=d.map(function(){var e=a(n().mark((function e(a){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.symbol===a.symbol&&(i+=parseFloat(t.quantity*a.uKline[r][1]));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(c);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=5,Promise.all(l);case 5:return e.abrupt("return",new T(t[0]/1e3,structuredClone(y[y.length-o-2].assets),i));case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=3,Promise.all(c);case 3:0!==(o=(o=e.sent).filter((function(e){return null!==e}))).length&&y.push(o[0]);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=21,Promise.all(g);case 21:return y.push(new T(y[0].time-14400,[],parseFloat(0))),y.sort((function(e,t){return e.time-t.time})),b=y[y.length-1].assets,p=0,E=b.map(function(){var e=a(n().mark((function e(t){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(t.symbol);case 2:r=e.sent,p+=t.quantity*r;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=28,Promise.all(E);case 28:return y.push(new T((new Date).getTime()/1e3,structuredClone(b),p)),q(y),e.abrupt("return",y);case 33:return R=0,_=I[I.length-1].assets,N=function(e){if(Array.isArray(e))return i(e)}(S=x)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(S)||o(S)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),k=_.map(function(){var e=a(n().mark((function e(t){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(t.symbol);case 2:r=e.sent,N.forEach((function(e){e.symbol===t.symbol.toLowerCase()&&(e.prev_price=parseFloat(e.current_price),e.current_price=parseFloat(r),e.pnl=100*(e.current_price-e.average_cost)/e.average_cost)})),R+=t.quantity*r;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),w(N),e.next=40,Promise.all(k);case 40:j(new T((new Date).getTime()/1e3,structuredClone(_),R)),Re(!Ee);case 42:case"end":return e.stop()}var S}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=a(n().mark((function e(r){var a,c,o,i,l,s,u,m,d;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=new Set,c=t(r);try{for(c.s();!(o=c.n()).done;)i=o.value,a.add(i.symbol_id)}catch(e){c.e(e)}finally{c.f()}return l=[],e.next=6,W(a);case 6:s=e.sent,u=t(s);try{for(u.s();!(m=u.n()).done;)d=m.value,l.push(new U(d))}catch(e){u.e(e)}finally{u.f()}return l.forEach((function(e){var n,a=t(r);try{for(a.s();!(n=a.n()).done;){var c=n.value;c.symbol_id===e.id&&("B"===c.type?(e.quantity+=c.quantity,e.average_cost+=c.bought_at*c.quantity):"S"===c.type&&(e.quantity-=c.quantity,e.average_cost-=c.bought_at*c.quantity))}}catch(e){a.e(e)}finally{a.f()}e.average_cost/=e.quantity,e.pnl=100*(e.current_price-e.average_cost)/e.average_cost})),l.sort((function(e,t){return t.current_price*t.quantity-e.current_price*e.quantity})),l.map((function(e,t){e.index=t})),w(l),e.abrupt("return",l);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=a(n().mark((function e(t){var r,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=4,fetch("/portfolio/".concat(parseInt(t)),{method:"POST"});case 4:if(204===(r=e.sent).status){e.next=11;break}return e.next=9,r.json();case 9:a=e.sent,f(a.error);case 11:$("#deletePortfolioModal"+t).modal("hide"),h();case 13:return e.abrupt("return",(function(){}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=c(React.useState(1),2),Z=X[0],ee=X[1],te=function(e){var n,r=document.querySelector("#page".concat(e)),a=document.getElementsByClassName("page-item"),c=t(a);try{for(c.s();!(n=c.n()).done;)n.value.classList.remove("active","disabled")}catch(e){c.e(e)}finally{c.f()}r.classList.add("active"),1===parseInt(e)?(document.getElementsByClassName("previous")[0].classList.add("disabled"),document.getElementsByClassName("next")[0].classList.add("active")):parseInt(e)===a.length-2?(document.getElementsByClassName("next")[0].classList.add("disabled"),document.getElementsByClassName("previous")[0].classList.add("active")):(document.getElementsByClassName("previous")[0].classList.remove("disabled"),document.getElementsByClassName("next")[0].classList.remove("disabled"))};React.useEffect((function(){te(Z)}),[]);for(var ne,re,ae=parseInt(5),ce=Math.ceil(x.length/ae),oe=[],ie=function(e){oe.push(React.createElement("li",{key:e,id:"page"+e,className:"page-item"},React.createElement("a",{className:"page-link",onClick:function(){ee(e),te(e),xe()}},e)))},le=2;le<ce+1;le++)ie(le);ne=function(){D||"failed"===B||G().then((function(e){null!==e&&Y(e).catch((function(e){return f(e)}))}))},re=React.useRef(),React.useEffect((function(){re.current=ne})),React.useEffect((function(){var e=setInterval((function(){re.current()}),5e3);return function(){return clearInterval(e)}}),[5e3]);var se=0,ue=0,me=0,de=0;null===R&&(x.map((function(e){se+=e.pnl*e.average_cost,ue+=e.average_cost,null!==e.prev_price?me+=parseFloat(e.quantity*e.prev_price):me+=0,de+=parseFloat(e.quantity*e.current_price)})),se/=ue);var pe=c(React.useState(!0),2),fe=pe[0],he=pe[1],ye=r.useSpring({from:{fadeIn:0},fadeIn:fe?1:0,config:{duration:500}}).fadeIn,ve=c(r.useSpring((function(){return{from:{opacity:0},to:{opacity:1},config:{duration:1e3}}})),2),ge=ve[0],be=ve[1],xe=function(){be({from:{opacity:0},to:{opacity:1}})},we=c(React.useState(!0),2),Ee=we[0],Re=we[1],_e=r.useSpring({from:{refreshAnimation:0},refreshAnimation:Ee?1:0,config:{duration:1e3}}).refreshAnimation;return React.createElement(React.Fragment,null,React.createElement("div",{className:"container-fluid"},React.createElement("div",{className:"d-flex flex-column justify-content-around"},null===p?null:React.createElement("div",{className:"queryAlert alert alert-danger d-flex align-items-center justify-content-between p-2",role:"alert",style:{fontSize:15}},React.createElement("div",null,React.createElement("i",{className:"bi bi-exclamation-triangle me-1"})," ",p),React.createElement("button",{type:"button",className:"btn-close btn-sm ms-1 pe-3","aria-label":"Close",onClick:function(){document.querySelector(".queryAlert").style.setProperty("display","none","important")}})),React.createElement("div",{className:"d-flex flex-row justify-content-start mb-2"},React.createElement("button",{id:"chartDisplayButton",className:"btn btn-outline-primary",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapsePortfolioChart","aria-expanded":"true","aria-controls":"collapsePortfolioChart",onClick:function(){return k()}},"Chart",React.createElement("i",{className:"bi bi-eye ms-1"}),React.createElement("i",{className:"bi bi-eye-slash ms-1"}))),React.createElement(r.animated.div,{className:"collapse show mb-3",id:"collapsePortfolioChart",style:{opacity:ye.to({range:[0,1],output:[.3,1]}),scale:ye.to({range:[0,.5,.75,1],output:[0,1.1,.95,1]})}},React.createElement("div",{className:"card card-body p-1"},React.createElement("div",{className:"d-flex justify-content-start mb-3"},D&&null===B?React.createElement("button",{className:"btn btn-sm btn-outline-warning p-1",type:"button",disabled:!0,style:{fontSize:12}},React.createElement("span",{className:"spinner-grow spinner-grow-sm me-1",role:"status","aria-hidden":"true",style:{height:"0.75rem",width:"0.75rem"}}),"Loading..."):"failed"===B?React.createElement("div",{className:"chartAlert alert alert-danger d-flex align-items-center justify-content-between p-2",role:"alert",style:{fontSize:13}},React.createElement("div",null,React.createElement("i",{className:"bi bi-exclamation-triangle me-1"})," Couldn't load chart data from binance API, is your IP address blocked from accessing binance.com?"),React.createElement("button",{type:"button",className:"btn-close btn-sm ms-1","aria-label":"Close",onClick:function(){document.querySelector(".chartAlert").style.setProperty("display","none","important")}})):null),React.createElement("div",{id:"chart",className:"d-flex flex-row chart ps-3",style:{height:"30vh",position:"relative"}},React.createElement(m,{data:I,lightWeightChartRef:C,areaSeriesRef:L}),React.createElement("div",{className:"lw-attribution"},React.createElement("a",{href:"https://tradingview.github.io/lightweight-charts/"},"Powered by Lightweight Charts")),null!==R||D&&null===B?React.createElement("div",{style:{position:"absolute",left:"50%",top:"35%",zIndex:3}},React.createElement("span",{className:"spinner-border text-primary",role:"status","aria-hidden":"true",style:{height:"3rem",width:"3rem"}})):null))),React.createElement("div",{className:"card card-body"},React.createElement("div",{className:"d-flex flex-row justify-content-between align-items-center"},React.createElement("div",{className:"d-flex flex-row justify-content-start me-3 mb-3"},React.createElement("div",{className:"btn-outline-primary d-flex flex-column flex-md-row align-items-center portfolio_total_pnl p-3 me-3",style:{fontSize:"1em"}},React.createElement("span",{className:"fw-semibold me-3"},"Total PNL: "),React.createElement(r.animated.span,{className:parseFloat(se)>parseFloat(0)?"text-success":parseFloat(se)<parseFloat(0)?"text-danger":"",style:{opacity:_e.to({range:[0,.5,1],output:[1,.3,1]}),color:_e.to({range:[0,.5,1],output:["black",de>me?"green":de<me?"red":"black","black"]})}},0===se?se+"%":se.toFixed(2)+"%")),React.createElement("div",{className:"btn-outline-primary d-flex flex-column flex-md-row align-items-center portfolio_total_pnl p-3",style:{fontSize:"1em"}},React.createElement("span",{className:"fw-semibold me-3"},"Networth: "),React.createElement(r.animated.span,{className:"",style:{opacity:_e.to({range:[0,.5,1],output:[1,.3,1]}),color:_e.to({range:[0,.5,1],output:["black",de>me?"green":de<me?"red":"black","black"]})}},"$ ",de.toFixed(2)))),React.createElement("div",{className:"mb-3 me-2"},React.createElement("button",{type:"button",className:"btn btn-danger",value:v,"data-bs-toggle":"modal","data-bs-target":"#deletePortfolioModal"+v},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:13,height:13,fill:"currentColor",className:"bi bi-trash",viewBox:"0 0 16 16"},React.createElement("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),React.createElement("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"}))),React.createElement("div",{className:"modal fade",id:"deletePortfolioModal"+v,value:v,tabIndex:-1,"aria-labelledby":"deletePortfolioModal"+v+"Label","aria-hidden":"true"},React.createElement("div",{className:"modal-dialog modal-dialog-centered modal-sm"},React.createElement("div",{className:"modal-content"},React.createElement("div",{className:"modal-header"},React.createElement("h1",{className:"modal-title fs-5",id:"deletePortfolioModal"+v+"Label"},"Delete portfolio: ",l.map((function(e){return e.id===v?e.name:null}))),React.createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})),React.createElement("div",{className:"modal-body text-start"},"Are you sure?"),React.createElement("div",{className:"modal-footer"},React.createElement("button",{type:"button",className:"btn btn-sm btn-secondary","data-bs-dismiss":"modal"},"Close"),React.createElement("button",{type:"button",className:"btn btn-sm btn-danger",onClick:function(e){e.stopPropagation(),Q(v)}},"Delete"))))))),React.createElement(r.animated.div,{className:"d-flex flex-column justify-content-between text-start",style:ge},React.createElement("div",{className:"d-flex flex-row justify-content-between"},React.createElement("div",{className:"dropdown mb-3"},React.createElement("button",{id:"portfolioName",className:"btn btn-sm btn-outline-primary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},"Portfolio"),React.createElement("ul",{className:"dropdown-menu"},l.map((function(e){return React.createElement("li",{key:e.id},React.createElement("a",{className:"dropdown-item d-flex flex-row justify-content-between",style:{cursor:"pointer"},onClick:function(){var t;q([]),t=e.id,g(t)}},React.createElement("span",{className:"pt-1",style:{fontSize:15}},e.name)))})))),React.createElement("div",{className:"mb-3 pe-2"},React.createElement("a",{className:"btn btn-sm btn-success me-2",type:"button",href:"/transaction"},"Add Tx"),React.createElement("a",{className:"btn btn-sm btn-danger",type:"button",href:"/transactionHistory"},"Remove Tx"))),React.createElement("div",{className:"overviewBackground-container"},React.createElement("div",{className:"row ticker-header fw-semibold text-end"},React.createElement("div",{className:"col-1 text-truncate"},"Rank"),React.createElement("div",{className:"col-1 col-sm-2 col-xl-1 text-start"}),React.createElement("div",{className:"d-none d-md-grid col-3 col-lg-2"},"Price"),React.createElement("div",{className:"d-none d-lg-grid col-4 col-lg-3 col-xl-2"},"MarketCap."),React.createElement("div",{className:"d-none d-xl-grid col-1"},"24h"),React.createElement("div",{className:"d-none d-xl-grid col-1"},"7d"),React.createElement("div",{className:"col-6 col-xs-5 col-md-3 col-lg-2"},"Holding"),React.createElement("div",{className:"col-3 col-xs-4 col-sm-3 col-md-2 col-lg-2 col-xl-2"},"PNL")),null!==R?React.createElement("div",{className:"row ticker-header text-secondary text-end ps-5",style:{fontSize:13}},"Please add some transactions."):React.createElement(d,{portfolioAsset:x,assetPerPage:ae,pageNum:Z,refreshAnimation:_e})),React.createElement("nav",{"aria-label":"...",style:{paddingTop:15}},React.createElement("ul",{className:"pagination pagination-sm justify-content-center"},React.createElement("li",{className:"page-item previous"},React.createElement("a",{className:"page-link"},React.createElement("span",{onClick:function(){ee(Z-1),te(Z-1),xe()},"aria-hidden":"true"},"«"))),React.createElement("li",{id:"page1",className:"page-item","aria-current":"page"},React.createElement("a",{className:"page-link",onClick:function(){ee(1),te(1),xe()}},"1")),oe,React.createElement("li",{className:"page-item next"},React.createElement("a",{className:"page-link"},React.createElement("span",{onClick:function(){ee(Z+1),te(Z+1),xe()},"aria-hidden":"true"},"»"))))))))))}function m(e){var t=e.data,n=e.lightWeightChartRef,r=e.areaSeriesRef,a=React.useRef();return React.useEffect((function(){var e=function(){n.current.applyOptions({width:document.getElementById("chart").clientWidth,height:document.getElementById("chart").clientHeight})};return n.current=LightweightCharts.createChart(a.current,{layout:{background:{type:LightweightCharts.ColorType.Solid,color:"white"},textColor:"black"},timeScale:{timeVisible:!0,secondsVisible:!1},width:document.getElementById("chart").clientWidth,height:document.getElementById("chart").clientHeight}),n.current.timeScale().fitContent(),r.current=n.current.addAreaSeries({lineColor:"#2962FF",topColor:"#2962FF",bottomColor:"rgba(41, 98, 255, 0.28)",lastPriceAnimation:LightweightCharts.LastPriceAnimationMode.Continuous}),r.current.setData(t),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e),n.current.remove()}}),[t]),React.createElement("div",{ref:a})}function d(e){var t=e.portfolioAsset,n=e.assetPerPage,a=e.pageNum,c=e.refreshAnimation;return React.createElement(React.Fragment,null,t.slice(n*(a-1),n*a).map((function(e,t){return React.createElement("div",{key:t,className:"row ticker-container fw-light text-end"},React.createElement("div",{className:"col-1"},e.index+1),React.createElement("div",{className:"col-1 col-sm-2 col-xl-1 d-flex text-start"},React.createElement("img",{src:e.image_url,className:"me-2",style:{maxHeight:20,maxWidth:20}}),React.createElement("div",{className:"d-none d-sm-inline-flex"},e.symbol.toUpperCase())),React.createElement("div",{className:"d-none d-md-grid col-3 col-lg-2"},React.createElement(r.animated.div,{className:"row row-cols-2 justify-content-between",style:{opacity:c.to({range:[0,.5,1],output:[1,.3,1]}),color:c.to({range:[0,.5,1],output:["black",e.current_price>e.prev_price?"green":e.current_price<e.prev_price?"red":"black","black"]})}},React.createElement("div",{className:"col-auto ps-3 ps-xl-5"},"$"),React.createElement("div",{className:"col-auto"},null===e.current_price?"-":l(e.current_price.toFixed(2))))),React.createElement("div",{className:"d-none d-lg-grid col-4 col-lg-3 col-xl-2"},React.createElement("div",{className:"row row-cols-2 justify-content-between"},React.createElement("div",{className:"col-auto"},"$"),React.createElement("div",{className:"col-auto"},null===e.market_cap?"-":l(e.market_cap)))),React.createElement("div",{className:parseFloat(e.price_change_percentage_24h)>parseFloat(0)?"d-none d-xl-grid col-1 text-success":parseFloat(e.price_change_percentage_24h)===parseFloat(0)?"d-none d-xl-grid col-1":"d-none d-xl-grid col-1 text-danger"},null===e.price_change_percentage_24h?"-":e.price_change_percentage_24h.toFixed(2),"%"),React.createElement("div",{className:parseFloat(e.price_change_percentage_7d)>parseFloat(0)?"d-none d-xl-grid col-1 text-success":parseFloat(e.price_change_percentage_7d)===parseFloat(0)?"d-none d-xl-grid col-1":"d-none d-xl-grid col-1 text-danger"},null===e.price_change_percentage_7d?"-":e.price_change_percentage_7d.toFixed(2),"%"),React.createElement("div",{className:"col-6 col-xs-5 col-md-3 col-lg-2 justify-content-between"},React.createElement(r.animated.div,{className:"row row-cols-2 justify-content-around justify-content-sm-between",style:{opacity:c.to({range:[0,.5,1],output:[1,.3,1]}),color:c.to({range:[0,.5,1],output:["black",e.current_price>e.prev_price?"green":e.current_price<e.prev_price?"red":"black","black"]})}},React.createElement("div",{className:"col-auto ps-0 ps-sm-5 ps-md-3 ps-xl-5"},"$"),React.createElement("div",{className:"col-auto"},null===e.current_price?e.quantity:l((e.quantity*e.current_price).toFixed(2))))),React.createElement(r.animated.div,{className:parseFloat(e.pnl)>parseFloat(0)?"col-3 col-xs-4 col-sm-3 col-md-2 col-lg-2 col-xl-2 text-success":parseFloat(e.pnl)===parseFloat(0)?"col-3 col-xs-4 col-sm-3 col-md-2 col-lg-2 col-xl-2":"col-3 col-xs-4 col-sm-3 col-md-2 col-lg-2 col-xl-2 text-danger",style:{opacity:c.to({range:[0,.5,1],output:[1,.3,1]}),color:c.to({range:[0,.5,1],output:["black",e.current_price>e.prev_price?"green":e.current_price<e.prev_price?"red":"black","black"]})}},null===e.pnl?"-":e.pnl.toFixed(2),"%"))})))}e.render(React.createElement(s,null))}))})();